import{e as T,g as V}from"./chunk-CYKJXLBN.js";import{e as z,g as F,k}from"./chunk-CM6WWZ7Q.js";import{$ as a,Ca as p,Ma as v,Qa as g,T as c,Ya as b,Za as C,_ as d,_a as h,gb as n,hb as r,ib as x,mb as D,na as m,nb as f,nc as P,ob as E,sb as _,tb as y,ub as w,uc as S,wb as u,yb as O}from"./chunk-OMEAGWTW.js";var B=["videoPlayer"];function M(s,t){if(s&1){let e=D();n(0,"button",23),f("click",function(){let i=d(e).$implicit,l=E();return a(l.selectColor(i))}),r()}if(s&2){let e=t.$implicit;C("background-color",e.hex),h("border-blue-500",e.selected)("border-transparent",!e.selected)}}function I(s,t){if(s&1){let e=D();n(0,"button",24),f("click",function(){let i=d(e).$implicit,l=E();return a(l.selectSize(i))}),u(1),r()}if(s&2){let e=t.$implicit;h("bg-blue-500",e.selected)("text-white",e.selected)("border-gray-300",!e.selected)("bg-white",!e.selected),p(),O(" ",e.name," ")}}var A=class s{videoPlayer;router=c(F);route=c(z);fb=c(T);landingService=c(k);form;productIdSignal=m("");startingPrice=m(0);totalPriceSignal=m(0);colors=[{id:1,name:"Black",hex:"#000000",selected:!0},{id:2,name:"White",hex:"#FFFFFF",selected:!1},{id:3,name:"Brown",hex:"#A52A2A",selected:!1}];sizes=[{id:1,name:"S",price:0,selected:!1},{id:2,name:"M",price:0,selected:!0},{id:3,name:"L",price:5,selected:!1},{id:4,name:"XL",price:10,selected:!1}];addOnOptions=[{id:1,name:"Premium Materials",price:25,selected:!1},{id:2,name:"Extended Warranty",price:15,selected:!1},{id:3,name:"Express Production",price:20,selected:!1}];constructor(){}ngOnInit(){this.productIdSignal.set(this.route.snapshot.paramMap.get("id")),this.fetchDataToCustomize();let t={};this.addOnOptions.forEach(e=>{t["option"+e.id]=this.fb.control(e.selected)}),this.form=this.fb.group(t),this.form.valueChanges.subscribe(e=>{this.addOnOptions.forEach(o=>{let i="option"+o.id;o.selected=e[i]}),this.updateTotalPrice()}),this.updateTotalPrice()}updateTotalPrice(){let t=this.startingPrice(),e=this.sizes.find(i=>i.selected);e&&(t+=e.price);let o=this.addOnOptions.filter(i=>i.selected).reduce((i,l)=>i+l.price,0);t+=o,this.totalPriceSignal.set(t)}getSelectedAddOns(){return this.addOnOptions.filter(t=>t.selected)}fetchDataToCustomize(){this.landingService.selectedProduct.subscribe(t=>{t&&(this.startingPrice.set(t.price),this.updateTotalPrice())})}selectColor(t){this.colors.forEach(e=>e.selected=!1),t.selected=!0}selectSize(t){this.sizes.forEach(e=>e.selected=!1),t.selected=!0}seekToTime(t){this.videoPlayer&&this.videoPlayer.nativeElement&&(this.videoPlayer.nativeElement.currentTime=t,this.videoPlayer.nativeElement.play())}onPurchaseClick(){this.router.navigate([`product/${this.productIdSignal()}`])}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=v({type:s,selectors:[["app-customize"]],viewQuery:function(e,o){if(e&1&&_(B,5),e&2){let i;y(i=w())&&(o.videoPlayer=i.first)}},decls:32,vars:2,consts:[["videoPlayer",""],[1,"bg-gray-50","min-h-screen","py-8"],[1,"container","mx-auto","px-4"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-gray-600","mt-2"],[1,"flex","flex-col","lg:flex-row","gap-8"],[1,"lg:w-3/5"],[1,"bg-black","rounded-lg","shadow-lg","overflow-hidden"],[1,"aspect-w-16","aspect-h-9","relative"],["controls","","poster","assets/images/video-thumbnail.jpg",1,"w-full","h-full","object-cover"],["src","assets/images/video.mp4","type","video/mp4"],[1,"lg:w-2/5"],[1,"bg-[#D3D3D3]","rounded-lg","shadow-lg","p-6"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],[1,"mb-6"],[1,"text-gray-700","font-medium","mb-3"],[1,"flex","flex-wrap","gap-3"],["class","w-10 h-10 rounded-full border-2",3,"background-color","border-blue-500","border-transparent","click",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-2"],["class","px-4 py-2 border rounded-md",3,"bg-blue-500","text-white","border-gray-300","bg-white","click",4,"ngFor","ngForOf"],[1,"mt-8"],[1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-3","rounded-lg","transition","duration-200",3,"click"],[1,"w-10","h-10","rounded-full","border-2",3,"click"],[1,"px-4","py-2","border","rounded-md",3,"click"]],template:function(e,o){if(e&1){let i=D();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),u(4,"\u10DB\u10DD\u10D0\u10E0\u10D2\u10D4\u10D7 \u10D7\u10E5\u10D5\u10D4\u10DC\u10D8 \u10DE\u10E0\u10DD\u10D3\u10E3\u10E5\u10E2\u10D8"),r(),n(5,"p",5),u(6,"\u10DC\u10D0\u10EE\u10D4\u10D7 \u10E1\u10D0\u10D8\u10DC\u10E1\u10E2\u10E0\u10E3\u10E5\u10EA\u10D8\u10DD \u10D5\u10D8\u10D3\u10D4\u10DD \u10D3\u10D0 \u10DB\u10DD\u10D0\u10E0\u10D2\u10D4\u10D7 \u10D7\u10E5\u10D5\u10D4\u10DC\u10D8 \u10D0\u10E0\u10E9\u10D4\u10D5\u10D0\u10DC\u10D8 \u10E5\u10D5\u10D4\u10DB\u10DD\u10D7"),r()(),n(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"video",10,0),x(13,"source",11),u(14," Your browser does not support the video tag. "),r()()()(),n(15,"div",12)(16,"div",13)(17,"h2",14),u(18,"\u10E8\u10D4\u10D0\u10E0\u10E9\u10D8\u10D4\u10D7 \u10E4\u10D4\u10E0\u10D8 \u10D3\u10D0 \u10D6\u10DD\u10DB\u10D0"),r(),n(19,"div",15)(20,"h3",16),u(21,"\u10D0\u10D8\u10E0\u10E9\u10D8\u10D4 \u10E4\u10D4\u10E0\u10D8"),r(),n(22,"div",17),g(23,M,1,6,"button",18),r()(),n(24,"div",15)(25,"h3",16),u(26,"\u10D0\u10D8\u10E0\u10E9\u10D8\u10D4 \u10D6\u10DD\u10DB\u10D0"),r(),n(27,"div",19),g(28,I,2,9,"button",20),r()(),n(29,"div",21)(30,"button",22),f("click",function(){return d(i),a(o.onPurchaseClick())}),u(31," \u10E8\u10D4\u10D8\u10EB\u10D8\u10DC\u10D4 "),r()()()()()()()}e&2&&(p(23),b("ngForOf",o.colors),p(5),b("ngForOf",o.sizes))},dependencies:[V,S,P],encapsulation:2})};export{A as CustomizeComponent};
